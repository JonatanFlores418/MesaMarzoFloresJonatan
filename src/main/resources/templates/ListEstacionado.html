<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Reservas</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">

    <h2 class="text-center mb-4">Lista de Reservas de Estacionamiento</h2>

    <!-- Mensaje de éxito al eliminar una reserva -->
    <div th:if="${mensajeExito}" class="alert alert-success">
        <strong>Éxito:</strong> <span th:text="${mensajeExito}"></span>
    </div>

    <!-- Mensaje de error si no hay reservas -->
    <div th:if="${reservas.isEmpty()}" class="alert alert-warning">
        <strong>Advertencia:</strong> No hay reservas registradas.
    </div>

    <!-- Tabla con las reservas -->
    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Auto</th>
                <th scope="col">Zona</th>
                <th scope="col">Horas</th>
                <th scope="col">Total</th>
                <th scope="col">Acciones</th>
            </tr>
        </thead>
        <tbody>
            <th:block th:each="reserva : ${reservas}">
                <tr>
                    <td th:text="${reserva.codigo}"></td>
                    <td th:text="${reserva.automovil.modelo}"></td>
                    <td th:text="${reserva.zona}"></td>
                    <td th:text="${reserva.horas}"></td>
                    <td th:text="${reserva.total}"></td>
                    <td>
                        <!-- Eliminar reserva -->
                        <a href="/estacionado/eliminar/{codigo}" th:href="@{'/estacionado/eliminar/' + ${reserva.codigo}}" class="btn btn-danger">Eliminar</a>
                    </td>
                </tr>
            </th:block>
        </tbody>
    </table>

</body>
</html>
